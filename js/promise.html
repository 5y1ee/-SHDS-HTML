<script>
    // Promise (ES8)
    function test(func) {
        return new Promise(function(resolve, reject) {
            setTimeout(function() {
                resolve('문자열');
            });
        });
    }
    test().then(function(arg) {
        console.log(arg);
    });

    console.log('main 흐름');

    // 비동기를 동기적으로 처리
    async function test2() {
        let result = await test(function(arg) {
            return arg;
        });
        console.log('test2:'+result);
    };
    test2();


    // ajax
    fetch('https://jsonplaceholder.typicode.com/posts')
        .then(res => res.json())
        .then(json=>console.log(json));


    window.onload = () => {


        document.getElementById("start").onclick = function() {
            i = setInterval(() => {
                let cnt = Number(document.querySelector("#cnt").textContent);
                document.querySelector("#cnt").textContent = cnt+1;
            }, 1000);
        }

        document.getElementById("end").onclick = function() {
            clearInterval(i);
        }


    }
    

</script>

<div id="cnt">0</div>
<input type="button" value="시작" id="start">
<input type="button" value="종료" id="end">
