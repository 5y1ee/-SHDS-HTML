<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- <meta name="viewport" content="width=<device-width>, initial-scale=1.0"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        .drawBorder {
            border: 1px solid black;
            padding: 5px;
            margin: 5px;
        }
        .blueText {
            color : blue;
        }
    </style>

    <script>

        document.addEventListener("DOMContentLoaded", function() {
            const button = document.querySelector("button");
            button.addEventListener("click", function (event) {
                // console.log(event);
                event.preventDefault();
                newRegister(event);
                this.classList.toggle("blueText");
            });

            // 엔터 이벤트 추가
            document.querySelector("#newName").addEventListener("keypress", function (event) {
                if (event.key === "Enter") {
                    event.preventDefault();
                    newRegister(event);
                }
            })

            const itemList = document.querySelector("#itemList");
            itemList.addEventListener("click", (event) => {
                // 노드 삭제
                console.log(event.target);
                
                if (event.target.tagName === "LI") {
                    if (confirm("정말 삭제하시겠습니까?")) {
                        // event.target.remove();
                        // itemList.removeChild(event.target);
                        event.target.parentNode.removeChild(event.target);
                    }
                }


            });

            function newRegister(event) {
                // 텍스트 값 받아와서 노드 추가
                console.log('register');
                console.log(event);

                let newItem = document.createElement("li")
                let newName = document.querySelector("#newName").value;
                let textNode = document.createTextNode(newName);
                newItem.appendChild(textNode);
                newItem.classList.add("drawBorder");
                newItem.classList.add("blueText");
                document.querySelector("#itemList").appendChild(newItem);

                document.getElementById("newName").value = "";
            }
        });

        window.onload = function() {            
            let newItem = document.createElement("li");

            // li 객체 안에 들어갈 텍스트 노드 생성
            let textNode = document.createTextNode('Typescript');
            newItem.appendChild(textNode);

            // li를 ul에 자식으로
            document.querySelector("#itemList").appendChild(newItem);

            // 속성 노드 추가
            let newImg = document.createElement('img');
            newImg.src = "/img/snow.jpg";
            document.body.appendChild(newImg);

            // 노드 삭제
            // document.querySelector('h1').remove();

        }

    </script>

</head>
<body>

    <h1>Web Prog</h1>
    
    <input id="newName" type="text"></input><button>추가</button>

    <ul id="itemList">
        <li>HTML</li>
        <li>CSS</li>
        <li>JS</li>
    </ul>

</body>
</html>